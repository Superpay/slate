
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API SuperPay</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;xml&quot;,&quot;curl&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logosp.png" class="logo" alt="Logosp" />
        <div class="lang-selector">
              <a href="#" data-language-name="xml">xml</a>
              <a href="#" data-language-name="curl">curl</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#bem-vindo-ao-superpay" class="toc-h1 toc-link" data-title="Bem vindo ao SuperPay">Bem vindo ao SuperPay</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#introducao" class="toc-h2 toc-link" data-title="Bem vindo ao SuperPay">Introdução</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#funcionalidades" class="toc-h1 toc-link" data-title="Funcionalidades">Funcionalidades</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#captura-posterior-de-transacoes" class="toc-h2 toc-link" data-title="Funcionalidades">Captura posterior de transações</a>
                  </li>
                  <li>
                    <a href="#cancelamento" class="toc-h2 toc-link" data-title="Funcionalidades">Cancelamento</a>
                  </li>
                  <li>
                    <a href="#estorno" class="toc-h2 toc-link" data-title="Funcionalidades">Estorno</a>
                  </li>
                  <li>
                    <a href="#multiplos-cartoes" class="toc-h2 toc-link" data-title="Funcionalidades">Múltiplos Cartões</a>
                  </li>
                  <li>
                    <a href="#cobranca-recorrente" class="toc-h2 toc-link" data-title="Funcionalidades">Cobrança recorrente</a>
                  </li>
                  <li>
                    <a href="#boletos-registrados" class="toc-h2 toc-link" data-title="Funcionalidades">Boletos Registrados</a>
                  </li>
                  <li>
                    <a href="#renova-facil" class="toc-h2 toc-link" data-title="Funcionalidades">Renova Fácil</a>
                  </li>
                  <li>
                    <a href="#pagamentos-com-um-unico-clique" class="toc-h2 toc-link" data-title="Funcionalidades">Pagamentos com um único clique</a>
                  </li>
                  <li>
                    <a href="#analise-de-risco" class="toc-h2 toc-link" data-title="Funcionalidades">Análise de Risco</a>
                  </li>
                  <li>
                    <a href="#multi-lojas" class="toc-h2 toc-link" data-title="Funcionalidades">Multi Lojas</a>
                  </li>
                  <li>
                    <a href="#retentativa-de-pagamento" class="toc-h2 toc-link" data-title="Funcionalidades">Retentativa de Pagamento</a>
                  </li>
                  <li>
                    <a href="#switch-de-adquirencia" class="toc-h2 toc-link" data-title="Funcionalidades">Switch de Adquirência</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#integracoes" class="toc-h1 toc-link" data-title="Integrações">Integrações</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#integracao-rest" class="toc-h2 toc-link" data-title="Integrações">Integração REST</a>
                  </li>
                  <li>
                    <a href="#integracao-soap" class="toc-h2 toc-link" data-title="Integrações">Integração SOAP</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#contratacao-e-informacoes-meios-de-pagamento" class="toc-h1 toc-link" data-title="Contratação e informações meios de pagamento">Contratação e informações meios de pagamento</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#adquirente-cielo" class="toc-h2 toc-link" data-title="Contratação e informações meios de pagamento">Adquirente Cielo</a>
                  </li>
              </ul>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Documentação API SuperPay</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='bem-vindo-ao-superpay'>Bem vindo ao SuperPay</h1>
<p>Tudo que você precisa para se integrar ao nosso Gateway.</p>
<h2 id='introducao'>Introdução</h2>
<p>Gateway de pagamento é uma solução tecnológica, que permite, facilmente, que quaisquer sistemas que possam se comunicar via WebService, realizem cobranças via boleto, cartão e transferências bancárias. Uma vez integrado ao SuperPay, seu sistema estará pronto para disponibilizar diversas formas de pagamento.</p>
<h1 id='funcionalidades'>Funcionalidades</h1><h2 id='captura-posterior-de-transacoes'>Captura posterior de transações</h2>
<p>Com o SuperPay é possível realizar em primeiro momento apenas uma pré autorização, onde o valor da transação será apenas sensibilizado no limite do cartão, e após acionar o método de captura para a confirmação da venda e cobrança no cartão.</p>
<h2 id='cancelamento'>Cancelamento</h2>
<p>Cancelamento de transações rapidamente acionando o método de cancelamento.</p>
<h2 id='estorno'>Estorno</h2>
<p>Com esta funcionalidade é possível realizar cancelamentos parciais e totais, dependendo da adquirente utilizada.</p>

<p><strong>Disponibilizado em nosso plano Corporativo</strong></p>
<h2 id='multiplos-cartoes'>Múltiplos Cartões</h2>
<p>Através desta estrutura é possível o envio de mais de um cartão para aprovação em uma mesma transação, dividindo o valor total do pedido entre os mesmos.</p>

<p><strong>Disponibilizado em nosso plano Corporativo</strong></p>
<h2 id='cobranca-recorrente'>Cobrança recorrente</h2>
<p>Funcionalidade perfeita para estabelecimentos que precisam cobrar regularmente seus clientes. Faça os cadastros de suas mensalidades e o SuperPay cobrará para você de acordo com o período cadastrado.</p>
<h2 id='boletos-registrados'>Boletos Registrados</h2>
<p>Com o registro dos boletos, os bancos possuem conhecimento do mesmo desde sua geração. Atualmente o SuperPay possui em produção os boletos com registro do Itaú Offline, Itaú ShopLine, Santander, Bradesco Offline, Bradesco ShopFácil, Banco do Brasil e Caixa Econômica Federal.</p>

<p>O SuperPay continua trabalhando com carteiras sem registros, basta o banco permitir isto em seu cadastro.
<strong>Para utilização do boleto registrado, entre em contato com comercial@superpay.com.br.</strong></p>
<h2 id='renova-facil'>Renova Fácil</h2>
<p><strong>Funcionalidade da adquirente Cielo</strong></p>

<p>Essa funcionalidade facilita a identificação de um cartão que tenha sido substituído por outro no banco emissor. Dessa forma, quando uma transação recorrente é submetida ao Web Service e a Cielo identifica que o cartão utilizado está desatualizado, a operadora retorna ao Gateway os novos dados, que por sua vez, os atualiza na base recorrente e envia novamente a cobrança a operadora, com os dados atualizados.</p>

<p>Bancos Emissores Participantes:</p>

<ul>
<li>Bradesco</li>
<li>Banco do Brasil</li>
<li>Santander</li>
<li>Panamericano</li>
<li>Citi</li>
</ul>

<p>Para utilizar esta funcionalidade, solicite a Cielo a ativação em seu estabelecimento e ,após isto, ao Suporte SuperPay.</p>
<h2 id='pagamentos-com-um-unico-clique'>Pagamentos com um único clique</h2>
<p>Funcionalidade que permite o cadastramento de cartão para utilização nas futuras compras, assim o consumidor precisará incluir apenas o código de segurança para finalizar a compra.</p>

<p><strong>Disponibilizado em nosso plano Corporativo</strong></p>
<h2 id='analise-de-risco'>Análise de Risco</h2>
<p>O SuperPay possui integração com as empresas especializadas em análises de riscos: ClearSale e FControl.</p>
<h2 id='multi-lojas'>Multi Lojas</h2>
<p>Permite a criação de diversas “lojas” para um mesmo contrato, podendo estas, serem configuradas com as mesma filiações das instituições financeiras ou diferentes.
Além disto, cada &quot;loja&quot; poderá acessar nosso Painel Administrativo para consultar <em>apenas</em> suas vendas.</p>

<p><strong>Para ativação solicitar ao Comercial SuperPay</strong></p>
<h2 id='retentativa-de-pagamento'>Retentativa de Pagamento</h2>
<p>Esta funcionalidade já gerou mais de 10% de recuperação de vendas com clientes.</p>

<p>As vendas não autorizadas ou com falha de comunicação, serão armazenados para retentativa durante 2 dias.
Não há alteração na estrutura de envio para utilizar esta funcionalidade. O Ecommerce deverá se atentar no retorno deste processo, onde o status para estes casos será 8 (aguardando pagamento) enquanto a venda não for aprovado ou até que sejam fechados (alterados para Não Pago) no terceiro dia.</p>

<p><strong>Além de solicitar a ativação ao Suporte SuperPay, é preciso uma alteração no campo origemTransacao enviando 5 para os pedidos que desejar a retentativa</strong></p>
<h2 id='switch-de-adquirencia'>Switch de Adquirência</h2>
<p>Em caso de falha na aprovação da transação, o Gateway redirecionará o pagamento para outra adquirente configurada em seu estabelecimento.</p>

<p>O estabelecimento pode criar regras, juntamente com a equipe de Suporte do SuperPay, podendo assim ordenar o envio para as operadoras por bandeiras.
Lembrando que o roteamento é possível apenas em bandeiras que existem em outras operadoras. Abaixo segue lista de bandeiras que podem ser roteadas:</p>

<ul>
<li>Visa</li>
<li>MasterCard</li>
<li>Diners</li>
<li>Discover</li>
</ul>

<p>Não há alteração na estrutura de envio para utilização desta funcionalidade. O Ecommerce deverá se atentar no retorno deste processo, onde o código da forma ded pagamento será diferente do enviado.</p>

<p><strong>Disponibilizado em nosso plano Corporativo</strong></p>
<h1 id='integracoes'>Integrações</h1><h2 id='integracao-rest'>Integração REST</h2>
<p>Para maiores informações <a href="https://superpay.github.io/rest">acesse aqui</a>.</p>
<h2 id='integracao-soap'>Integração SOAP</h2>
<p>Para maiores informações <a href="https://superpay.github.io/soap">acesse aqui</a>.</p>
<h1 id='contratacao-e-informacoes-meios-de-pagamento'>Contratação e informações meios de pagamento</h1>
<p>Na aba lateral direita está disponível exemplos para cada meio de pagamento em XML (para integração SOAP) e cURL (para integração REST).</p>
<h2 id='adquirente-cielo'>Adquirente Cielo</h2>
<p><strong>MODALIDADE WEBSERVICE</strong></p>

<p><strong>Contratação</strong></p>

<p>Contratando a solução da CIELO para e-commerce será possível oferecer na sua loja:</p>

<ul>
<li><p>Vendas de cŕedito autenticadas;</p></li>
<li><p>Cartão de crédito Amex;</p></li>
<li><p>Cartão de crédito Aura;</p></li>
<li><p>Cartão de crédito Diners;</p></li>
<li><p>Cartão de crédito Discover;</p></li>
<li><p>Cartão de crédito Elo;</p></li>
<li><p>Cartão de crédito JCB;</p></li>
<li><p>Cartão de crédito MasterCard;</p></li>
<li><p>Cartão de crédito Visa;</p></li>
<li><p>Cartão de débito Maestro;</p></li>
<li><p>Cartão de débito Visa Electron;</p></li>
</ul>

<p>Ao final do processo de contratação, deve-se estar de posse das seguintes informações para ativação da CIELO no Gateway:</p>

<ul>
<li>Merchant ID;</li>
<li>Merchant Key;</li>
</ul>

<p>O Superpay não participa das negociações entre o estabelecimento e bancos/adquirentes. Desta forma, taxas ou eventuais isenções são tratadas de forma direta entre os envolvidos.</p>

<p>Para contratar, <a href="https://www.cielo.com.br/sitecielo/afiliacao/credenciamentoafiliacaonaologado.html?idSolucaoCaptura=81">acesse aqui</a></p>

<p><strong>Particulariedades</strong></p>

<ul>
<li><p>Para esta modalidade é necessário certificado SSL de segurança <strong>2048 bits</strong>;</p></li>
<li><p>Integração na plataforma WebService API 3.0;</p></li>
<li><p>Caso o campo <code>&lt;codigoSeguranca&gt;</code> não for enviado ou for enviado com &quot;000&quot;, a transação será encaminhada a Cielo como modelo &quot;Recorrente&quot;, onde este campo não é obrigatório. Lembrando que para esta utilização é preciso habilitar junto a Adquirente. 
Salientamos que a conversão de seu estabelecimento pode diminuir;</p></li>
<li><p>Esta operadora de cartão permite cadastrar uma informação para aparecer na fatura dos clientes quando realizarem compras sua loja, funcionalidade chamada de SoftDescriptor. Esta deverá possuir até 13 caracteres.
Caso queira utilizar, envie ao Suporte SuperPay o nome desejado para configuração em seu estabelecimento.
Também é possível o envio do SoftDescriptor por pedido, para isto solicite ao Suporte a ativação e envie a informação no campoLivre4 de cada transação;</p></li>
<li><p>Para transações com <em>cartão de débito</em> ou <em>autenticada</em>, o eCommerce deverá redirecionar o consumidor para a <code>&lt;urlPagamento&gt;</code>, onde o mesmo deverá incluir sua senha ou token no ambiente do banco emissor. Apenas após esta etapa, a transação será concluída.</p></li>
</ul>

<p><strong>Processo de Homologação com Adquirente</strong></p>

<p>Após a integração com o SuperPay, o estabelecimento deverá configurar as credenciais da Cielo no ambiente de produção do SuperPay e apontar sua loja para o ambiente real do Gateway. Após isto, a loja deverá enviar ao Suporte Cielo (cieloecommerce@cielo.com.br) a URL da loja com um produto de teste no valor de R$1,00.
O suporte Cielo realizará os testes em ambiente real e caso esteja dentro das conformidades a loja estará apta a realizar vendas em produção.</p>

<p><strong>Exemplos</strong></p>

<p>REQUISIÇÃO</p>

<p>Estrutura simplificada de envio para adquirente Cielo. Caso seu estabelecimento utilize <em>antifraude</em>, seguir a <a href="https://superpay.github.io/soap/#criando-uma-transacao-com-analise-de-fraude">estrutura completa</a>.</p>

<blockquote>
<p>Estrutra simplificada de envio Cielo:</p>
</blockquote>
<pre class="highlight xml tab-xml"><code>
<span class="nt">&lt;soapenv:Envelope</span> <span class="na">xmlns:soapenv=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span> <span class="na">xmlns:pag=</span><span class="s">"http://pagamentos.webservices.superpay.ernet.com.br/"</span><span class="nt">&gt;</span>
 <span class="nt">&lt;soapenv:Header/&gt;</span>
  <span class="nt">&lt;soapenv:Body&gt;</span>
   <span class="nt">&lt;pag:pagamentoTransacaoCompleta&gt;</span>
     <span class="nt">&lt;transacao&gt;</span>
     <span class="nt">&lt;codigoEstabelecimento&gt;</span>1000000000000<span class="nt">&lt;/codigoEstabelecimento&gt;</span>
     <span class="nt">&lt;codigoFormaPagamento&gt;</span>170<span class="nt">&lt;/codigoFormaPagamento&gt;</span>
     <span class="nt">&lt;numeroTransacao&gt;</span>1<span class="nt">&lt;/numeroTransacao&gt;</span>
     <span class="nt">&lt;dadosUsuarioTransacao&gt;</span>
      <span class="nt">&lt;documentoComprador&gt;</span>12312312312<span class="nt">&lt;/documentoComprador&gt;</span>
      <span class="nt">&lt;nomeComprador&gt;</span>Teste SuperPay<span class="nt">&lt;/nomeComprador&gt;</span>
     <span class="nt">&lt;/dadosUsuarioTransacao&gt;</span>
     <span class="nt">&lt;dataValidadeCartao&gt;</span>12/2026<span class="nt">&lt;/dataValidadeCartao&gt;</span>
     <span class="nt">&lt;nomeTitularCartaoCredito&gt;</span>teste superpay<span class="nt">&lt;/nomeTitularCartaoCredito&gt;</span>
     <span class="nt">&lt;numeroCartaoCredito&gt;</span>4444333322221111<span class="nt">&lt;/numeroCartaoCredito&gt;</span>
     <span class="nt">&lt;codigoSeguranca&gt;</span>123<span class="nt">&lt;/codigoSeguranca&gt;</span>
     <span class="nt">&lt;parcelas&gt;</span>1<span class="nt">&lt;/parcelas&gt;</span>
     <span class="nt">&lt;valor&gt;</span>200<span class="nt">&lt;/valor&gt;</span>
     <span class="nt">&lt;/transacao&gt;</span>
     <span class="nt">&lt;usuario&gt;</span>superpay<span class="nt">&lt;/usuario&gt;</span>
     <span class="nt">&lt;senha&gt;</span>superpay<span class="nt">&lt;/senha&gt;</span>
    <span class="nt">&lt;/pag:pagamentoTransacaoCompleta&gt;</span>
  <span class="nt">&lt;/soapenv:Body&gt;</span>
<span class="nt">&lt;/soapenv:Envelope&gt;</span>
</code></pre>
<p>RESPOSTA</p>

<p>Estrtura de retorno adquirente Cielo. Os comentários no XML indicam a informação retornada da adquirente em cada campo.</p>

<blockquote>
<p>Retorno:</p>
</blockquote>
<pre class="highlight xml tab-xml"><code>
<span class="nt">&lt;soap:envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;soap:body&gt;</span>
      <span class="nt">&lt;ns2:pagamentoTransacaoCompletaResponse</span> <span class="na">xmlns:ns2=</span><span class="s">"http://pagamentos.webservices.superpay.ernet.com.br/"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;return&gt;</span>
            <span class="c">&lt;!--Código de autorização--&gt;</span>
            <span class="nt">&lt;autorizacao&gt;</span>123456<span class="nt">&lt;/autorizacao&gt;</span>
            <span class="nt">&lt;codigoEstabelecimento&gt;</span>1000000000000<span class="nt">&lt;/codigoEstabelecimento&gt;</span>
            <span class="nt">&lt;codigoFormaPagamento&gt;</span>170<span class="nt">&lt;/codigoFormaPagamento&gt;</span>
            <span class="c">&lt;!--Código erro em caso de negação--&gt;</span>
            <span class="nt">&lt;codigoTransacaoOperadora&gt;</span>0<span class="nt">&lt;/codigoTransacaoOperadora&gt;</span>
            <span class="c">&lt;!--Data retorno adquirente--&gt;</span>
            <span class="nt">&lt;dataAprovacaoOperadora&gt;</span>24/05/2017<span class="nt">&lt;/dataAprovacaOperadora&gt;</span>
            <span class="c">&lt;!--Mensagem adquirente--&gt;</span>
            <span class="nt">&lt;mensagemVenda&gt;</span>Transacao capturada com sucesso<span class="nt">&lt;/mensagemVenda&gt;</span>
            <span class="c">&lt;!--TID--&gt;</span>
            <span class="nt">&lt;numeroComprovanteVenda&gt;</span>1006993069181F841001<span class="nt">&lt;/numeroComprovanteVenda&gt;</span>
            <span class="nt">&lt;numeroTransacao&gt;</span>1<span class="nt">&lt;/numeroTransacao&gt;</span>
            <span class="nt">&lt;parcelas&gt;</span>1<span class="nt">&lt;/parcelas&gt;</span>
            <span class="c">&lt;!--Status que deverá ser tratado pelo eCommerce--&gt;</span>
            <span class="nt">&lt;statusTransacao&gt;</span>1<span class="nt">&lt;/statusTransacao&gt;</span>
            <span class="nt">&lt;taxaEmbarque&gt;</span>0<span class="nt">&lt;/taxaEmbarque&gt;</span>
            <span class="nt">&lt;urlPagamento&gt;</span>14132971582229c00506d-e84d-4526-b902-92190d5aa808<span class="nt">&lt;urlpagamento&gt;&lt;/urlpagamento&gt;</span>
            <span class="nt">&lt;valor&gt;</span>200<span class="nt">&lt;/valor&gt;</span>
            <span class="nt">&lt;valorDesconto&gt;</span>0<span class="nt">&lt;/valorDesconto&gt;</span>
         <span class="nt">&lt;/return&gt;</span>
      <span class="nt">&lt;/ns2:pagamentoTransacaoCompletaResponse&gt;</span>
   <span class="nt">&lt;/soap:body&gt;</span>
<span class="nt">&lt;/soap:envelope&gt;</span>
</code></pre>
<p><strong>CHECKOUT CIELO (REDIRECIONADO)</strong></p>

<p><strong>Contratação</strong></p>

<p>Contratando a solução da CIELO para e-commerce será possível oferecer os seguintes meios de pagamento na sua loja:</p>

<ul>
<li>Cartão de crédito Amex;</li>
<li>Cartão de crédito Aura;</li>
<li>Cartão de crédito Diners;</li>
<li>Cartão de crédito Discover;</li>
<li>Cartão de crédito Elo;</li>
<li>Cartão de crédito JCB;</li>
<li>Cartão de crédito MasterCard;</li>
<li>Cartão de crédito Visa;</li>
<li>Cartão de débito Maestro;</li>
<li>Cartão de débito Visa Electron;</li>
</ul>

<p>Ao final do processo de contratação, deve-se estar de posse das seguintes informações para ativação da CIELO no Gateway:</p>

<ul>
<li>Código de filiação;</li>
<li>Merchant ID;</li>
</ul>

<p>O Superpay não participa das negociações entre o estabelecimento e bancos/adquirentes. Desta forma, taxas ou eventuais isenções são tratadas de forma direta entre os envolvidos.</p>

<p>Para contratar, <a href="https://www.cielo.com.br/aceite-cartao/checkout/">acesse aqui</a></p>

<p><strong>Particulariedades</strong></p>

<ul>
<li><p>Para utilização correta desta forma de pagamento, deve se enviado ao Suporte SuperPay uma URL para redirecionamento do usuário após finalização do pagamento. Esta URL deve ser informada de forma completa, iniciando em HTTP ou HTTPS;</p></li>
<li><p>O eCommerce deverá redirecionar o consumidor para a URL retornada no campo <code>&lt;urlPagamento&gt;</code>;</p></li>
<li><p>Importante a utilização da <a href="https://superpay.github.io/soap/#notificacao-vendas-comuns">campainha</a> para atualização de status no eCommerce após finalização do pagamento;</p></li>
<li><p>O eCommerce enviará um único código ao Gateway relacionado ao meio de pagamento Checkout (52) e após a abertura da URL o consumidor escolherá a bandeira de cartão;</p></li>
<li><p>Necessário algumas configurações no painel Cielo. Passo a passo no próximo tópico deste documento.</p></li>
</ul>

<p><strong>Configuração painel Cielo</strong></p>

<p>Etapas para configuração:</p>

<ol>
<li>Acesse o gerenciador Cielo</li>
<li>Clique na aba &quot;Configurações&quot; --&gt; &quot;Configurações da loja&quot;</li>
<li>Primeiramente habilite em &quot;Modo de Teste&quot;</li>
<li>Inclua as URLs abaixo:</li>
</ol>

<p>EM TESTES
<em>Subtituir o valor 10000000000 pelo código de estabelecimento SuperPay</em></p>

<table><thead>
<tr>
<th>Nome Campo</th>
<th>URL</th>
</tr>
</thead><tbody>
<tr>
<td>URL Retorno</td>
<td>https://homologacao.superpay.com.br/checkout/PagamentoCielo/RetornoCheckout?codE=10000000000&amp;acao=retorno</td>
</tr>
<tr>
<td>URL Notificação</td>
<td>https://homologacao.superpay.com.br/checkout/PagamentoCielo/NotificacaoCheckout?codE=10000000000&amp;acao=notificacao</td>
</tr>
<tr>
<td>URL de Mudança de Status</td>
<td>https://homologacao.superpay.com.br/checkout/PagamentoCielo/NotificacaoCheckout?codE=10000000000&amp;acao=mudancaStatus</td>
</tr>
</tbody></table>

<p>EM PRODUÇÃO
<em>Subtituir o valor 10000000000 pelo código de estabelecimento SuperPay</em></p>

<table><thead>
<tr>
<th>Nome Campo</th>
<th>URL</th>
</tr>
</thead><tbody>
<tr>
<td>URL Retorno</td>
<td>https://superpay2.superpay.com.br/checkout/PagamentoCielo/RetornoCheckout?codE=10000000000&amp;acao=retorno</td>
</tr>
<tr>
<td>URL Notificação</td>
<td>https://superpay2.superpay.com.br/checkout/PagamentoCielo/NotificacaoCheckout?codE=10000000000&amp;acao=notificacao</td>
</tr>
<tr>
<td>URL de Mudança de Status</td>
<td>https://superpay2.superpay.com.br/checkout/PagamentoCielo/NotificacaoCheckout?codE=10000000000&amp;acao=mudancaStatus</td>
</tr>
</tbody></table>

<p><strong>Processo de Homologação com Adquirente</strong></p>

<p>Após a integração com o SuperPay, o estabelecimento deverá configurar as credenciais da Cielo no ambiente de produção do SuperPay e apontar sua loja para o ambiente real do Gateway. Após isto, a loja deverá enviar ao Suporte Cielo (cieloecommerce@cielo.com.br) a URL da loja com um produto de teste no valor de R$1,00.
O suporte Cielo realizará os testes em ambiente real e caso esteja dentro das conformidades a loja estará apta a realizar vendas em produção.</p>

<p><strong>Exemplos</strong></p>

<p>REQUISIÇÃO</p>

<p>Estrutura simplificada de envio para adquirente Cielo. Caso seu estabelecimento utilize <em>antifraude</em>, seguir a <a href="https://superpay.github.io/soap/#criando-uma-transacao-com-analise-de-fraude">estrutura completa</a>.</p>

<blockquote>
<p>Estrutra simplificada de envio Cielo:</p>
</blockquote>
<pre class="highlight xml tab-xml"><code>
<span class="nt">&lt;soapenv:Envelope</span> <span class="na">xmlns:soapenv=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span> <span class="na">xmlns:pag=</span><span class="s">"http://pagamentos.webservices.superpay.ernet.com.br/"</span><span class="nt">&gt;</span>
 <span class="nt">&lt;soapenv:Header/&gt;</span>
  <span class="nt">&lt;soapenv:Body&gt;</span>
   <span class="nt">&lt;pag:pagamentoTransacaoCompleta&gt;</span>
     <span class="nt">&lt;transacao&gt;</span>
     <span class="nt">&lt;codigoEstabelecimento&gt;</span>1000000000000<span class="nt">&lt;/codigoEstabelecimento&gt;</span>
     <span class="nt">&lt;codigoFormaPagamento&gt;</span>52<span class="nt">&lt;/codigoFormaPagamento&gt;</span>
     <span class="nt">&lt;numeroTransacao&gt;</span>1<span class="nt">&lt;/numeroTransacao&gt;</span>
     <span class="nt">&lt;dadosUsuarioTransacao&gt;</span>
      <span class="nt">&lt;documentoComprador&gt;</span>12312312312<span class="nt">&lt;/documentoComprador&gt;</span>
      <span class="nt">&lt;nomeComprador&gt;</span>Teste SuperPay<span class="nt">&lt;/nomeComprador&gt;</span>
     <span class="nt">&lt;/dadosUsuarioTransacao&gt;</span>
     <span class="nt">&lt;parcelas&gt;</span>1<span class="nt">&lt;/parcelas&gt;</span>
     <span class="nt">&lt;valor&gt;</span>200<span class="nt">&lt;/valor&gt;</span>
     <span class="nt">&lt;/transacao&gt;</span>
     <span class="nt">&lt;usuario&gt;</span>superpay<span class="nt">&lt;/usuario&gt;</span>
     <span class="nt">&lt;senha&gt;</span>superpay<span class="nt">&lt;/senha&gt;</span>
    <span class="nt">&lt;/pag:pagamentoTransacaoCompleta&gt;</span>
  <span class="nt">&lt;/soapenv:Body&gt;</span>
<span class="nt">&lt;/soapenv:Envelope&gt;</span>
</code></pre>
<p>RESPOSTA</p>

<p>Estrtura de retorno adquirente Cielo. Os comentários no XML indicam a informação retornada da adquirente em cada campo.</p>

<blockquote>
<p>Retorno:</p>
</blockquote>
<pre class="highlight xml tab-xml"><code>
<span class="nt">&lt;soap:envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;soap:body&gt;</span>
      <span class="nt">&lt;ns2:pagamentoTransacaoCompletaResponse</span> <span class="na">xmlns:ns2=</span><span class="s">"http://pagamentos.webservices.superpay.ernet.com.br/"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;return&gt;</span>
            <span class="c">&lt;!--Código de autorização--&gt;</span>
            <span class="nt">&lt;autorizacao&gt;</span>0<span class="nt">&lt;/autorizacao&gt;</span>
            <span class="nt">&lt;codigoEstabelecimento&gt;</span>1000000000000<span class="nt">&lt;/codigoEstabelecimento&gt;</span>
            <span class="nt">&lt;codigoFormaPagamento&gt;</span>52<span class="nt">&lt;/codigoFormaPagamento&gt;</span>
            <span class="c">&lt;!--Código erro em caso de negação--&gt;</span>
            <span class="nt">&lt;codigoTransacaoOperadora&gt;</span>0<span class="nt">&lt;/codigoTransacaoOperadora&gt;</span>
            <span class="c">&lt;!--Data retorno adquirente--&gt;</span>
            <span class="nt">&lt;dataAprovacaoOperadora/&gt;</span>
            <span class="c">&lt;!--Mensagem adquirente--&gt;</span>
            <span class="nt">&lt;mensagemVenda/&gt;</span>
            <span class="c">&lt;!--TID--&gt;</span>
            <span class="nt">&lt;numeroComprovanteVenda/&gt;</span>
            <span class="nt">&lt;numeroTransacao&gt;</span>1<span class="nt">&lt;/numeroTransacao&gt;</span>
            <span class="nt">&lt;parcelas&gt;</span>1<span class="nt">&lt;/parcelas&gt;</span>
            <span class="nt">&lt;statusTransacao&gt;</span>5<span class="nt">&lt;/statusTransacao&gt;</span>
            <span class="nt">&lt;taxaEmbarque&gt;</span>0<span class="nt">&lt;/taxaEmbarque&gt;</span>
            <span class="c">&lt;!--Redirecionar o consumidor--&gt;</span>
            <span class="nt">&lt;urlPagamento&gt;</span>https://homologacao.superpay.com.br/checkout/PagamentoCielo/checkout?cod=14132971582229c00506d-e84d-4526-b902-92190d5aa808<span class="nt">&lt;urlpagamento&gt;&lt;/urlpagamento&gt;</span>
            <span class="nt">&lt;valor&gt;</span>200<span class="nt">&lt;/valor&gt;</span>
            <span class="nt">&lt;valorDesconto&gt;</span>0<span class="nt">&lt;/valorDesconto&gt;</span>
         <span class="nt">&lt;/return&gt;</span>
      <span class="nt">&lt;/ns2:pagamentoTransacaoCompletaResponse&gt;</span>
   <span class="nt">&lt;/soap:body&gt;</span>
<span class="nt">&lt;/soap:envelope&gt;</span>
</code></pre>
      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="xml">xml</a>
                <a href="#" data-language-name="curl">curl</a>
          </div>
      </div>
    </div>
  </body>
</html>
